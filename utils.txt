utility functions for version two.
-by Prabesh Rijal